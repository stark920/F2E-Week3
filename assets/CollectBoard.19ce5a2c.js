import{d as w,j as b,s as V,l as A,k as _,b as r,c as n,f as s,t as c,h as i,e as m,J as h,F as d,p as u,D as p,x as C}from"./index.0232cb1e.js";import{_ as $}from"./RouteCard.a7eca7c6.js";import{_ as B}from"./NearbyDetail.6d5baa7e.js";import{u as D}from"./likes.05bd0f57.js";const R={class:"flex h-full flex-col"},U={class:"flex h-[4rem] items-end justify-center"},E={class:"text-xl font-bold"},I={class:"flex-c h-[4rem]"},j={value:"All"},F=["value"],L={value:"All"},N=["value"],J={class:"flex h-[3rem]"},M=s("input",{type:"radio",name:"direction",class:"peer hidden",checked:""},null,-1),T={class:"flex-c h-full cursor-pointer gap-2 rounded-t-md bg-gray-300 px-2 peer-checked:bg-primary peer-checked:text-white"},q=s("input",{type:"radio",name:"direction",class:"peer hidden"},null,-1),z={class:"flex-c h-full cursor-pointer gap-2 rounded-t-md bg-gray-300 px-2 peer-checked:bg-primary peer-checked:text-white"},G={class:"h-[calc(100%-9rem)] overflow-y-scroll px-2"},W=w({__name:"CollectBoard",setup(H){const{t:a}=b(),g=D(),{likeRoutes:y,likeStops:f}=V(g),v=(()=>{const l=[];return y.value.forEach(o=>{l.includes(o.City)||l.push(o.City)}),l})(),k=(()=>{const l=[];return f.value.forEach(o=>{l.includes(o.City)||l.push(o.City)}),l})(),t=A({displayView:"route",routeSelectedCity:"All",stopSelectedCity:"All"}),x=_(()=>t.routeSelectedCity==="All"?y.value:[...y.value].filter(l=>l.City===t.routeSelectedCity)),S=_(()=>t.stopSelectedCity==="All"?f.value:f.value.filter(l=>l.City===t.stopSelectedCity));return(l,o)=>(r(),n("div",R,[s("section",U,[s("h3",E,c(i(a)("page.collect")),1)]),s("section",I,[t.displayView==="route"?m((r(),n("select",{key:0,"onUpdate:modelValue":o[0]||(o[0]=e=>t.routeSelectedCity=e),class:"rounded-md border-none bg-gray-300 py-1 text-gray-700 focus:ring-0"},[s("option",j,c(i(a)("allCity")),1),(r(!0),n(d,null,u(i(v),e=>(r(),n("option",{key:e,value:e},c(i(a)(`city.${e}`)),9,F))),128))],512)),[[h,t.routeSelectedCity]]):p("",!0),t.displayView==="stop"?m((r(),n("select",{key:1,"onUpdate:modelValue":o[1]||(o[1]=e=>t.stopSelectedCity=e),class:"rounded-md border-none bg-gray-300 py-1 text-gray-700 focus:ring-0"},[s("option",L,c(i(a)("allCity")),1),(r(!0),n(d,null,u(i(k),e=>(r(),n("option",{key:e,value:e},c(i(a)(`city.${e}`)),9,N))),128))],512)),[[h,t.stopSelectedCity]]):p("",!0)]),s("section",J,[s("label",{class:"flex-grow",onChange:o[2]||(o[2]=e=>t.displayView="route")},[M,s("div",T,c(i(a)("collect.route")),1)],32),s("label",{class:"flex-grow",onChange:o[3]||(o[3]=e=>t.displayView="stop")},[q,s("div",z,c(i(a)("collect.stop")),1)],32)]),s("div",G,[t.displayView==="route"?(r(!0),n(d,{key:0},u(i(x),e=>(r(),C($,{key:e.RouteUID,data:e},null,8,["data"]))),128)):p("",!0),t.displayView==="stop"?(r(!0),n(d,{key:1},u(i(S),e=>(r(),C(B,{key:e.RouteUID,data:e},null,8,["data"]))),128)):p("",!0)])]))}});export{W as default};
